<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>MU-AR</title>

    <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.6.2/aframe/build/aframe-ar.js"></script>
</head>

<body style="margin : 0px; overflow: hidden;">
  
  <div class="download">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.js"></script>
    <script>
      //ロードされた際の処理として実施：
      window.onload = function(){

        //ボタンを押下した際にダウンロードする画像を作る
        html2canvas(document.body,{
          onrendered: function(canvas){
            //aタグのhrefにキャプチャ画像のURLを設定
            var imgData = canvas.toDataURL();
            document.getElementById("ss").href = imgData;
          }
        });

      }
    </script>
  </div>
      
  <a href="" id="ss" download="html_ss.png">画像をダウンロード</a>
    
    <a-scene embedded arjs="debugUIEnabled:false;">
        <a-entity camera></a-entity>

        <!-- Markerを表示した際の処理を以下に記述する -->
        <!-- ARマーカーのファイル名をここで指定する -->
        <a-marker type="pattern" url="img/pattern_simple_qrcode.patt">

            <!-- 表示したい画像を src= ～ で指定する -->
            <!-- 画像の大きさは width と height で設定可能 -->
            <!-- 画像を表示させる位置は position で設定可能 -->
            <!-- 画像を水平に表示させる場合は下記の rotation でOK -->
            <a-image width="5" height="5" position="0.2 0.4 0.4" rotation="-90 0 0" src="img/icon.png">
            </a-image>

        </a-marker>
    </a-scene>
</body>

</html>
